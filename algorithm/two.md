# åˆ†æ²»ç­–ç•¥

# 1.äº¤æ¢æ’åºé—®é¢˜

## é¢˜ç›®æè¿°
å¯¹äºä¸€ä¸ª `1` åˆ° `n` çš„æ’åˆ—ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç§æ–°çš„æ’åºæ–¹å¼ï¼Œç§°ä¸º**äº¤æ¢æ’åº**ï¼š  
æ¯æ¬¡æ“ä½œå¯ä»¥é€‰æ‹©æ’åˆ—ä¸­ä»»æ„ä¸¤ä¸ª**å·®çš„ç»å¯¹å€¼æ°å¥½ä¸º 1** çš„æ•°å­—è¿›è¡Œäº¤æ¢ã€‚  
è¯·è®¡ç®—å¯¹è¯¥æ’åˆ—è¿›è¡Œå‡åºæ’åºæ—¶ï¼Œæ‰€éœ€äº¤æ¢æ“ä½œæ¬¡æ•°çš„æœ€å°å€¼ã€‚

**è¯´æ˜**ï¼š1 åˆ° n çš„æ’åˆ—ä¸­ï¼Œæ¯ä¸ªæ•°å‡å‡ºç°ä¸”ä»…å‡ºç°ä¸€æ¬¡ã€‚

## è¾“å…¥æ ¼å¼
- ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ­£æ•´æ•° `T`ï¼Œè¡¨ç¤ºæ•°æ®ç»„æ•°ã€‚
- å¯¹äºæ¯ç»„æ•°æ®ï¼š
  1. ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•° `n`ï¼Œè¡¨ç¤ºæ’åˆ—çš„é•¿åº¦ã€‚
  2. ç¬¬äºŒè¡Œè¾“å…¥ `n` ä¸ªæ•´æ•°ï¼Œä¸º `1` åˆ° `n` çš„ä¸€ä¸ªæ’åˆ—ã€‚

**æ•°æ®çº¦æŸ**ï¼šæ‰€æœ‰æ•°æ®çš„ `n` ä¹‹å’Œä¸å¤§äº `1e5`ã€‚

## è¾“å‡ºæ ¼å¼
æ¯ç»„æ•°æ®è¾“å‡ºä¸€è¡Œä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æœ€å°äº¤æ¢æ¬¡æ•°ã€‚

## æµ‹è¯•æ ·ä¾‹
### è¾“å…¥
```
2
3
1 3 2
5
5 3 2 1 4
```

### è¾“å‡º
```
1
7
```

## é¢˜ç›®åˆ†æä¸æ€è·¯åˆ†æï¼ˆè¡¥å……ï¼‰
- æ ¸å¿ƒè§‚å¯Ÿï¼šæ¯æ¬¡åªèƒ½äº¤æ¢ç›¸é‚»æ•°å­—ï¼ˆå·®çš„ç»å¯¹å€¼ä¸º 1ï¼‰ï¼Œå› æ­¤è¯¥é—®é¢˜ç­‰ä»·äºè®¡ç®—æ’åˆ—çš„**é€†åºå¯¹æ•°é‡**ã€‚ğŸ“Œ
- ä¾‹å¦‚ï¼š
  - ç¬¬ä¸€ç»„æ ·ä¾‹ `[1,3,2]` ä¸­ï¼Œé€†åºå¯¹ä¸º `(3,2)`ï¼Œæ•°é‡ä¸º 1ï¼Œæ•…è¾“å‡º 1ã€‚
  - ç¬¬äºŒç»„æ ·ä¾‹ `[5,3,2,1,4]` ä¸­ï¼Œé€†åºå¯¹æ•°é‡ä¸º 7ï¼ˆ(5,3),(5,2),(5,1),(5,4),(3,2),(3,1),(2,1)ï¼‰ï¼Œæ•…è¾“å‡º 7ã€‚
- æ±‚è§£æ–¹æ³•ï¼šéœ€ä½¿ç”¨é«˜æ•ˆçš„é€†åºå¯¹è®¡æ•°ç®—æ³•ï¼ˆå¦‚å½’å¹¶æ’åºã€æ ‘çŠ¶æ•°ç»„ï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦ä¸º `O(n log n)`ï¼Œä»¥æ»¡è¶³æ•°æ®è§„æ¨¡è¦æ±‚ã€‚


## ä»£ç 
    #include <iostream>
    #include <vector>
    using namespace std;


    long long mergeCount(vector<int>& arr, vector<int>& temp, int left, int mid, int right) {
        int i = left;
        int j = mid + 1;
        int k = left;
        long long count = 0;
        while (i <= mid && j <= right) {
            if (arr[i] <= arr[j]) {
                temp[k++] = arr[i++];
            }else {
                temp[k++] = arr[j++];
                count +=(mid - i + 1);
            }
        }
        while (i <= mid) {
            temp[k++] = arr[i++];
        }
        while (j <= right) {
            temp[k++] = arr[j++];
        }
        for (int i = left; i <= right; i++) {
            arr[i] = temp[i];
        }
        return count;
    }


    long long  merge_sort_count(vector<int>& arr, vector<int>& temp, int left, int right) {
        long long count = 0;
        if (left < right) {
            int mid = (left + right) / 2;
            count += merge_sort_count(arr, temp, left, mid);
            count += merge_sort_count(arr, temp, mid + 1, right);
            count += mergeCount(arr, temp, left, mid, right);
        }
        return count;
    }


    int main() {
        int T;
        cin >> T;
        while (T--) {
            int n;
            cin >> n;
            vector<int> v(n);
            for(int i = 0; i < n; i++) {
                cin >> v[i];
            }
            long long count = 0;
            vector<int> temp(n);
            count = merge_sort_count(v, temp, 0, n - 1);
            cout << count << "\n";
        }
        return 0;
    }


## tipï¼š
- é¦–å…ˆè¿™ä¸€é¢˜ï¼Œæœ€é‡è¦çš„ä¸€ç‚¹å°±æ˜¯æˆ‘ä»¬éœ€è¦çŸ¥é“è¿™é“é¢˜ç›®çš„æ€è·¯ã€‚äº¤æ¢å¹¶ä¸”å·®å€¼åªèƒ½ä¸º1ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¨¡æ‹Ÿçš„æ—¶å€™å‘ç°ï¼Œä¼¼ä¹å’Œé€†åºæ•°æœ‰å…³è”ï¼ˆä¹Ÿæ˜¯ä¸€ç§ç»éªŒçš„æ€»ç»“ï¼‰
- æœ¬é¢˜è¿˜éœ€è¦æ³¨æ„çš„å°±æ˜¯é¢˜ç›®æ•°æ®çš„é—®é¢˜ï¼Œå½“ç„¶è¿™ç§é—®é¢˜ç»å¸¸ä¼šå‡ºç°ï¼Œå†™é¢˜ç›®çš„æ—¶å€™æ³¨æ„ä¸€ä¸‹å°±è¡Œäº†ï¼Œå¦‚æœæ²¡è¿‡çš„è¯å°±éœ€è¦æ³¨æ„ä¸€ä¸‹æ˜¯ä¸æ˜¯æ•°æ®èŒƒå›´çš„é—®é¢˜äº†ã€‚
- å…¶æ¬¡å°±æ˜¯ï¼Œå°±ç®—æˆ‘ä»¬çŸ¥é“äº†æ˜¯é€†åºå¯¹çš„æ€è·¯äº†ï¼Œæˆ‘ä»¬ä»ç„¶éœ€è¦æ³¨æ„æœ¬é¢˜çš„ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ï¼Œå¦‚æœåªæ˜¯ä½¿ç”¨ä¸¤ä¸ªforå¾ªç¯æ¥æŸ¥çœ‹æœ‰å¤šå°‘ä¸ªé€†åºå¯¹çš„è¯ï¼Œå°±ä¼šè¢«è¿™é“é¢˜ç›®å¡æ‰ã€‚
- é€šè¿‡åˆ†æ²»æ€æƒ³ï¼Œæˆ‘ä»¬å‘ç°å¯ä»¥æŠŠè¿™äº›æ•°ç»„å…¨éƒ¨åˆ†æˆä¸€åŠä¸€åŠçš„ï¼Œå…ˆç®—å†…éƒ¨çš„é€†åºå¯¹ï¼Œç„¶åå†åˆå¹¶çš„æ—¶å€™æ¥è®¡ç®—æ€»çš„é€†åºå¯¹ã€‚ç„¶åæˆ‘ä»¬ä¸éš¾å‘ç°è¿™å°±æ˜¯å½’å¹¶æ’åºçš„æ€æƒ³ï¼Œæ‰€ä»¥å¦‚æœè¿™é“é¢˜ç›®ä½ ç”¨å½’å¹¶æ’åºï¼Œè®°å½•äº¤æ¢æ¬¡æ•°ä¹Ÿå¯ä»¥ç®—å‡ºè¿™é“é¢˜ç›®ã€‚


---

# 2.æœ€å¤§è¿ç»­å’Œ
## é¢˜ç›®æè¿°
ç»™å‡ºä¸€ä¸ªæ•°åˆ—ï¼Œè¯·å¯»æ‰¾æ•´æ•° \(i, j\)ï¼ˆ\(1 \leq i \leq j \leq n\)ï¼‰ï¼Œä½¿å¾— \(\sum_{k=i}^{j} a_k\) æœ€å¤§ã€‚

> æˆ‘æ±‚æ±‚ä½ ä»¬äº†ï¼Œä¸è¦ç”¨åŠ¨æ€è§„åˆ’å¥½ä¸å¥½

## è¾“å…¥æ ¼å¼
æœ¬é¢˜æœ‰å¤šç»„æ•°æ®ã€‚
1. ç¬¬ä¸€è¡Œä¸ºæ•´æ•° \(T\)ï¼Œè¡¨ç¤ºæ•°æ®ç»„æ•°ã€‚
2. å¯¹äºæ¯ç»„æ•°æ®ï¼š
   - ç¬¬ä¸€è¡Œä¸ºæ•´æ•° \(n\)ï¼Œä»£è¡¨æ•°åˆ—çš„æ•°å­—ä¸ªæ•°ã€‚
   - æ¥ä¸‹æ¥ä¸€è¡Œæœ‰ \(n\) ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•°åˆ—çš„å…ƒç´ ã€‚

**æ•°æ®çº¦æŸ**ï¼šæ‰€æœ‰æ•°æ®çš„ \(n\) ä¹‹å’Œä¸è¶…è¿‡ \(10^5\)ï¼Œæ•°åˆ—å…ƒç´ çš„ç»å¯¹å€¼ä¸è¶…è¿‡ \(10^4\)ã€‚

## è¾“å‡ºæ ¼å¼
æ¯ç»„æ•°æ®è¾“å‡ºä¸€è¡Œä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæœ€å¤§çš„ \(\sum_{k=i}^{j} a_k\)ã€‚

## æµ‹è¯•æ ·ä¾‹
### è¾“å…¥
```
2
4
1 2 -1 10
3
-1 -2 -3
```

### è¾“å‡º
```
12
-1
```

## é¢˜ç›®æ³¨è§£
> æˆ‘çŸ¥é“ä½ å¾ˆæ€¥ç€ç”¨åŠ¨æ€è§„åˆ’ï¼Œä½†æ˜¯è¿™èŠ‚è¯¾è®²äº†åˆ†æ²»ï¼Œæ‰€ä»¥ä½ å…ˆåˆ«æ€¥.jpg

## ä»£ç 
    #include <iostream>
    #include <vector>
    #include <climits>
    #include <algorithm> // ç”¨äºmaxå‡½æ•°

    using namespace std;
    using ll = long long;
    ll maxSum(const vector<ll>& nums, ll left, ll right, ll mid) {
        ll leftSum = LONG_LONG_MIN;
        ll currentSum = 0;
        for (ll i = mid; i >= left; i--) {
            currentSum += nums[i];
            if (currentSum > leftSum) {
                leftSum = currentSum;
            }
        }
        ll rightSum = LONG_LONG_MIN;
        currentSum = 0;
        for(ll i = mid + 1; i <= right; i++) {
            currentSum += nums[i];
            if (currentSum > rightSum) {
                rightSum = currentSum;
            }
        }
        return leftSum + rightSum;
    }
    ll maxSumTwo(const vector<ll>& nums, ll left, ll right) {
        if(left == right) {
            return nums[left];
        }
        ll mid = left + (right - left) / 2;
        return max({
            maxSumTwo(nums, left, mid),
            maxSumTwo(nums, mid + 1, right),
            maxSum(nums, left, right, mid)
        });
    }
    int main() {
        ios::sync_with_stdio(false);
        cin.tie(nullptr);
        int T;
        cin >> T;
        while (T--) {
            int n;
            cin >> n;
            vector<ll> v(n);
            for (int i = 0; i < n; i++) {
                cin >> v[i];
            }
            cout << maxSumTwo(v,0,n-1) << "\n";
        }
        return 0;
    }

## ä»£ç æ€è·¯ï¼š
# åˆ†æ²»ç®—æ³•è§£å†³æœ€å¤§å­æ•°ç»„é—®é¢˜

## ç®—æ³•è§£é‡Š

åˆ†æ²»ç®—æ³•è§£å†³æœ€å¤§å­æ•°ç»„é—®é¢˜çš„æ ¸å¿ƒæ€è·¯æ˜¯å°†é—®é¢˜åˆ†è§£ä¸ºä¸‰ä¸ªå­é—®é¢˜ï¼š

1. **å·¦åŠéƒ¨åˆ†çš„æœ€å¤§å­æ•°ç»„å’Œ**ï¼šé€’å½’å¤„ç†æ•°ç»„å·¦åŠéƒ¨åˆ†
2. **å³åŠéƒ¨åˆ†çš„æœ€å¤§å­æ•°ç»„å’Œ**ï¼šé€’å½’å¤„ç†æ•°ç»„å³åŠéƒ¨åˆ†
3. **è·¨è¶Šä¸­é—´ç‚¹çš„æœ€å¤§å­æ•°ç»„å’Œ**ï¼šè¿™æ˜¯åˆå¹¶æ­¥éª¤çš„å…³é”®ï¼Œéœ€è¦å•ç‹¬è®¡ç®—

## å…³é”®å‡½æ•°è§£æ

### maxCrossingSum å‡½æ•°ï¼š
- è®¡ç®—è·¨è¶Šä¸­é—´ç‚¹çš„æœ€å¤§å­æ•°ç»„å’Œ
- ä»ä¸­é—´ç‚¹å‘å·¦æ‰©å±•ï¼Œæ‰¾åˆ°å·¦ä¾§æœ€å¤§å­æ•°ç»„å’Œ
- ä»ä¸­é—´ç‚¹å‘å³æ‰©å±•ï¼Œæ‰¾åˆ°å³ä¾§æœ€å¤§å­æ•°ç»„å’Œ
- è¿”å›å·¦å³ä¸¤éƒ¨åˆ†çš„å’Œï¼ˆå³è·¨è¶Šä¸­é—´ç‚¹çš„æœ€å¤§å­æ•°ç»„å’Œï¼‰

### maxSubarraySum å‡½æ•°ï¼š
- é€’å½’å‡½æ•°ï¼Œå®ç°åˆ†æ²»é€»è¾‘
- åŸºæœ¬æƒ…å†µï¼šå½“å­æ•°ç»„åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œè¿”å›è¯¥å…ƒç´ 
- é€’å½’æƒ…å†µï¼šå°†æ•°ç»„åˆ†ä¸ºä¸¤åŠï¼Œåˆ†åˆ«è®¡ç®—å·¦åŠéƒ¨åˆ†ã€å³åŠéƒ¨åˆ†å’Œè·¨è¶Šä¸­é—´çš„æœ€å¤§å­æ•°ç»„å’Œï¼Œè¿”å›ä¸‰è€…ä¸­çš„æœ€å¤§å€¼

### main å‡½æ•°ï¼š
- å¤„ç†å¤šç»„è¾“å…¥æ•°æ®
- è¯»å–æ¯ç»„æ•°æ®å¹¶è°ƒç”¨åˆ†æ²»å‡½æ•°è®¡ç®—ç»“æœ
- è¾“å‡ºæ¯ç»„æ•°æ®çš„æœ€å¤§å­æ•°ç»„å’Œ

## æ—¶é—´å¤æ‚åº¦åˆ†æ

- æ¯æ¬¡é€’å½’å°†é—®é¢˜è§„æ¨¡å‡åŠï¼Œé€’å½’æ·±åº¦ä¸º O(log n)
- æ¯å±‚é€’å½’ä¸­ï¼ŒmaxCrossingSum å‡½æ•°éœ€è¦ O(n) æ—¶é—´
- æ€»ä½“æ—¶é—´å¤æ‚åº¦ä¸º O(n log n)

è¿™ç§åˆ†æ²»æ–¹æ³•è™½ç„¶æ¯”åŠ¨æ€è§„åˆ’çš„ O(n) æ—¶é—´å¤æ‚åº¦ç¨é«˜ï¼Œä½†å¾ˆå¥½åœ°ä½“ç°äº†åˆ†æ²»ç®—æ³• "åˆ†è€Œæ²»ä¹‹" çš„æ€æƒ³ï¼Œé€‚ç”¨äºç†è§£é€’å½’å’Œåˆ†æ²»ç­–ç•¥çš„åº”ç”¨ã€‚

---

# 3.Lå½¢éª¨ç‰Œå¯†é“ºé—®é¢˜

## é¢˜ç›®æè¿°
æœ‰ä¸€å—è¢«æŒ–å»ä¸€æ ¼çš„ \(2^k \times 2^k\) æ£‹ç›˜ï¼Œå…¶ä¸­ \(x\) ä»£è¡¨è¡Œç¼–å·ï¼ˆä»1å¼€å§‹ï¼Œä»ä¸Šåˆ°ä¸‹ï¼‰ï¼Œ\(y\) ä»£è¡¨åˆ—ç¼–å·ï¼ˆä»1å¼€å§‹ï¼Œä»å·¦åˆ°å³ï¼‰ã€‚è¯·åœ¨æ£‹ç›˜ä¸Šæ”¾ç½®Lå½¢çš„éª¨ç‰Œï¼Œä½¿å¾—éª¨ç‰Œä¸äº’ç›¸é‡å ä¸”æ•´ä¸ªéª¨ç‰Œå‡åœ¨æ£‹ç›˜çš„éç©ºç¼ºä½ç½®ä¸Šï¼Œä¸”æ£‹ç›˜çš„æ¯ä¸ªæ ¼å­å‡æœ‰éª¨ç‰Œè¦†ç›–ï¼ˆå³å¯¹ç¼ºå°‘ä¸€æ ¼çš„æ£‹ç›˜è¿›è¡Œå¯†é“ºï¼‰ã€‚

æœ¬é¢˜ä¸­çš„Lå½¢éª¨ç‰Œç‰¹æŒ‡åœ¨ä¸€å— \(2 \times 2\) çš„éª¨ç‰Œä¸Šä»»æ„æŒ–å»ä¸€æ ¼ä¹‹åå¯å½¢æˆçš„4ç§éª¨ç‰Œä¹‹ä¸€ã€‚

## è¾“å…¥æ ¼å¼
- ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•° \(T\)ï¼Œè¡¨ç¤ºæ•°æ®ç»„æ•°ã€‚
- å¯¹äºæ¯ç»„æ•°æ®ï¼Œè¾“å…¥ä¸€è¡Œä¸‰ä¸ªæ•´æ•° \(k, x, y\)ï¼Œå«ä¹‰åˆ†åˆ«ä¸ºæ£‹ç›˜å¤§å°ä¸º \(2^k \times 2^k\)ï¼Œç©ºç¼ºä½ç½®ä¸ºç¬¬ \(x\) è¡Œç¬¬ \(y\) åˆ—ã€‚
- ä¿è¯ \(1 \leq k \leq 5\)ã€‚

## è¾“å‡ºæ ¼å¼
æ¯ç»„æ•°æ®è¾“å‡ºä¸€ä¸ª \(2^k \times 2^k\) çš„çŸ©é˜µï¼Œè¡¨ç¤ºæ¯ä¸ªä½ç½®çš„éª¨ç‰Œç¼–å·ï¼š
- éª¨ç‰Œç¼–å·è¿ç»­ä¸”ä»1å¼€å§‹
- ç©ºç¼ºçš„ä½ç½®ç”¨0è¿›è¡Œæ ‡è®°

## æµ‹è¯•æ ·ä¾‹
### è¾“å…¥
```
1
2 2 2
```

### è¾“å‡º
```
3 3 1 1
3 0 2 1
4 2 2 5
4 4 5 5
```
        
## ä»£ç 
    #include <iostream>
    #include <vector>
    #include <cmath>
    using namespace std;

    int board[1024][1024];
    int Count = 0;
    //x,yæ˜¯å·¦ä¸Šè§’ï¼Œdx,dyæ˜¯ç‚¹åæ ‡
    void solve(int x, int y, int dx, int dy, int size) {
        if (size == 1) {
            return;
        }
        int s = size / 2;
        int currentCount = ++Count;


        if (dx < x + s && dy < y + s) {
            solve(x, y, dx, dy, s);
            board[x + s - 1][y + s] = currentCount;
            board[x + s][y + s - 1] = currentCount;
            board[x + s][y + s] = currentCount;//è¿™ä¸ªåœ°æ–¹å…ˆå¡«å†™å½“å‰é€’å½’çš„å†…å®¹
            solve(x, y + s, x + s - 1, y + s, s); // é€’å½’å¤„ç†å³ä¸Šè±¡é™
            solve(x + s, y, x + s, y + s - 1, s); // é€’å½’å¤„ç†å·¦ä¸‹è±¡é™
            solve(x + s, y + s, x + s, y + s, s); // é€’å½’å¤„ç†å³ä¸‹è±¡é™
        }
        // å³ä¸Š
        else if (dx < x + s && dy >= y + s) {
            solve(x, y + s, dx, dy, s);
            board[x + s - 1][y + s - 1] = currentCount;
            board[x + s][y + s - 1] = currentCount;
            board[x + s][y + s] = currentCount;
            solve(x, y, x + s - 1, y + s - 1, s);
            solve(x + s, y, x + s, y + s - 1, s);
            solve(x + s, y + s, x + s, y + s, s);
        }
        // å·¦ä¸‹
        else if (dx >= x + s && dy < y + s) {
            solve(x + s, y, dx, dy, s);
            board[x + s - 1][y + s - 1] = currentCount;
            board[x + s - 1][y + s] = currentCount;
            board[x + s][y + s] = currentCount;
            solve(x, y, x + s - 1, y + s - 1, s);
            solve(x, y + s, x + s - 1, y + s, s);
            solve(x + s, y + s, x + s, y + s, s);
        }
        // å³ä¸‹
        else {
            solve(x + s, y + s, dx, dy, s);
            board[x + s - 1][y + s - 1] = currentCount;
            board[x + s - 1][y + s] = currentCount;
            board[x + s][y + s - 1] = currentCount;
            solve(x, y, x + s - 1, y + s - 1, s);
            solve(x, y + s, x + s - 1, y + s, s);
            solve(x + s, y, x + s, y + s - 1, s);
        }
    }

    int main() {
        ios::sync_with_stdio(false);
        cin.tie(nullptr);
        int t;
        cin >> t;
        while (t--) {
            int k, x, y;
            cin >> k >> x >> y;
            int n = pow(2, k);

            board[x-1][y-1] = 0;
            Count = 0;
            solve(0, 0, x-1, y-1, n);
            for (int i = 0; i < n; ++i) {
                for (int j = 0; j < n; ++j) {
                    cout << board[i][j] << " ";
                }
                cout << "\n";
            }
        }
        return 0;
    }

## ä»£ç æ€è·¯
- é¦–å…ˆè¿™é“é¢˜ç›®å…³é”®ç‚¹å°±åœ¨äºæ€ä¹ˆä½¿ç”¨åˆ†æ²»å»è§£å†³ï¼Œå…¶å®æˆ‘ä»¬å†™åˆ°ç¬¬ä¸‰é¢˜ï¼Œä¸éš¾å‘ç°æ‰€è°“åˆ†æ²»ï¼Œå°±æ˜¯å…ˆåˆ†ï¼Œå†é€’å½’ã€‚é€’å½’æ‰æ˜¯å…³é”®ï¼Œè¿™é“é¢˜æ˜¯å¦èƒ½å†™å‡ºæ¥ï¼Œä¸»è¦å–å†³äºè¿™ä¸ªé€’å½’å‡½æ•°ä½ æ˜¯å¦ä¼šå†™ã€‚
- å…¶æ¬¡å°±æ˜¯ï¼Œæœ¬é¢˜ç›®ä¸­æ˜¯å¦å¯ä»¥è§‚å¯Ÿåˆ°ï¼Œä¸æ–­åœ°å°†è¿™ä¸ªæ­£æ–¹å½¢è¿›è¡Œåˆ‡å‰²ï¼Œå°±å¯ä»¥å‡ºå…ˆæ–°çš„å››ä¸ªæ­£æ–¹å½¢ï¼Œç„¶åå†äººå·¥åˆ¶é€ ä¸‰ä¸ªç¼ºå£ï¼Œè¿™æ ·å½¢æˆçš„å››ä¸ªæ­£æ–¹å½¢å°±ä¸€æ¨¡ä¸€æ ·äº†ã€‚



# 4.æœ€å°åŠå¾„åˆ‡è½´è¦†ç›–åœ†é—®é¢˜

## é¢˜ç›®æè¿°
åœ¨å¹³é¢ç›´è§’åæ ‡ç³»ä¸Šç»™å®š \(n\) ä¸ªç‚¹ï¼Œè¯·å¯»æ‰¾ä¸€ä¸ªåŠå¾„æœ€å°ä¸”ä¸ \(x\) è½´ç›¸åˆ‡çš„åœ†ï¼Œä½¿å¾—è¿™ä¸ªåœ†å¯ä»¥åŒ…å«æ‰€æœ‰ç‚¹ä¸”ä¸ \(x\) è½´ç›¸åˆ‡ã€‚ä¿è¯ç‚¹å‡ä¸åœ¨ \(x\) è½´ä¸Šã€‚å¦‚æœä¸å­˜åœ¨è¿™æ ·çš„åœ†ï¼Œè¯·è¾“å‡º \(-1\)ã€‚

## è¾“å…¥æ ¼å¼
1.  ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•° \(n\)ï¼Œä»£è¡¨ç‚¹çš„ä¸ªæ•°ã€‚
2.  æ¥ä¸‹æ¥çš„ \(n\) è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° \(x_i, y_i\)ï¼Œä»£è¡¨ç¬¬ \(i\) ä¸ªç‚¹çš„æ¨ªçºµåæ ‡ã€‚

**ä¿è¯**ï¼šç‚¹çš„æ•°é‡ä¸å¤§äº \(100\)ï¼Œç‚¹åæ ‡çš„ç»å¯¹å€¼ä¸å¤§äº \(10^4\) ä¸”çºµåæ ‡ä¸ä¸º \(0\)ã€‚

## è¾“å‡ºæ ¼å¼
ä¸€ä¸ªæ•°ï¼Œè¡¨ç¤ºæœ€å°çš„åœ†çš„åŠå¾„ï¼›å¦‚æœåœ†ä¸å­˜åœ¨ï¼Œè¾“å‡º \(-1\)ã€‚ä½ çš„ç­”æ¡ˆå°†ä¼šè¢«è®¤ä¸ºæ­£ç¡®å½“ä¸”ä»…å½“ä½ çš„ç­”æ¡ˆå’Œè¯„æµ‹æœºçš„ç­”æ¡ˆçš„å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ \(10^{-6}\)ã€‚

## æµ‹è¯•æ ·ä¾‹

### æ ·ä¾‹è¾“å…¥ 1
```
1
0 1
```

### æ ·ä¾‹è¾“å‡º 1
```
0.5
```

### æ ·ä¾‹è¾“å…¥ 2
```
3
0 1
0 2
0 -3
```

### æ ·ä¾‹è¾“å‡º 2
```
-1
```

### æ ·ä¾‹è¾“å…¥ 3
```
2
0 1
1 1
```

### æ ·ä¾‹è¾“å‡º 3
```
0.625
```

## é¢˜ç›®æ³¨è§£
è¿™ä¸ªè«åå…¶å¦™çš„æ ‡é¢˜åŒ…å«äº†æœ¬é¢˜çš„ä¸¤ç§åšæ³•ã€‚æœ¬é¢˜è¾ƒä¸ºæ­£å¸¸çš„å®ç°ç”¨æ—¶åº”è¯¥åœ¨ 800ms ä»¥ä¸‹ï¼Œå¾ˆç²¾è‰¯çš„ç®—æ³•å®ç°æ—¶é—´åº”è¯¥åœ¨ 200ms ä»¥ä¸‹ï¼Œå¹¶æœªå¡å¸¸ã€‚

è¯·æ³¨æ„ï¼Œç›´æ¥è¾“å…¥ double åŒæ ·éå¸¸æ…¢ï¼Œåº”è¯¥äºˆä»¥é¿å…ã€‚

å¦‚æœé‡åˆ°ç²¾åº¦ä¸è¶³çš„æƒ…å†µï¼Œå¯ä»¥ä½¿ç”¨ long double è§£å†³é—®é¢˜ã€‚å¦‚æœé‡åˆ°è®¤ä¸ºè¯„æµ‹æ•°æ®ç²¾åº¦å­˜åœ¨é—®é¢˜çš„æƒ…å†µï¼Œè¯·è”ç³»åŠ©æ•™ã€‚

**æ€è€ƒ**ï¼šæœ¬é¢˜ç›®ç²¾åº¦è¦æ±‚é‚£ä¹ˆä½ï¼Œæ•°æ®ä¹Ÿä¸å¤§ï¼Œä¸ºä»€ä¹ˆä¼šç‚¸ç²¾åº¦å‘¢ï¼Ÿ


## ä»£ç 
    #include <iostream>
    #include <vector>
    #include <cmath>
    #include <iomanip>

    using namespace std;
    const long double INF = 1e18;
    struct Point {
        long double x, y;
    };
    int n;
    vector<Point> points;

    bool check(long double r) { //é€šè¿‡æ•°å­¦è®¡ç®—å¾—å‡ºæ¥çš„ï¼Œè®¡ç®—å†…å®¹è‰ç¨¿çº¸è¿›è¡Œ
        long double h_min = -INF;
        long double h_max = INF;
        for(const auto &p : points) {
            long double x = p.x, y = p.y;
            if(y > 2.0 * r) { //å‰ææ¡ä»¶ï¼Œå¦‚æœä¸æ»¡è¶³ï¼Œç›´æ¥è¿”å›ï¼Œé™ä½æ—¶é—´å¤æ‚åº¦
                return false;
            }
            //ä¸€å…ƒäºŒæ¬¡ä¸ç­‰å¼
            long double delta = 4.0L * y * (2.0L * r - y);
            long double sqrt_delta = sqrt(delta);
            //ä¸¤ä¸ªhè§£
            long double h1 = (2.0L * x - sqrt_delta) / 2.0L;
            long double h2 = (2.0L * x + sqrt_delta) / 2.0L;
            //ä¸æ–­å‘ä¸­é—´é€¼è¿‘ï¼Œå°çš„å¾€ä¸Šå»ï¼Œå¤§çš„å¾€ä¸‹æ¥
            h_min = max(h_min, min(h1, h2));
            h_max = min(h_max, max(h1, h2));
        }
        //å¦‚æœè¿˜æœ‰åŒºé—´ï¼Œè¯æ˜æœ‰è§£ï¼Œè¯´æ˜è¿™ä¸ªrå¯ä»¥å­˜åœ¨ä¸€ä¸ªåœ†ï¼Œè¿”å›true
        return h_min <= h_max;
    }
    int main() {
        ios::sync_with_stdio(false);
        cin.tie(nullptr);
        cin >> n;
        bool flag1 = true; //éƒ½æ˜¯æ­£
        bool flag2 = true; //éƒ½æ˜¯è´Ÿ
        points.resize(n);
        for(int i = 0; i < n; i++) {
            cin >> points[i].x >> points[i].y;
            if (points[i].y > 0) {
                flag2 = false;
            }
            if (points[i].y < 0) {
                flag1 = false;
            }
        }
        if (!flag1 && !flag2) {
            cout << -1 << endl;
            return 0;
        }
        if (flag2) {
            for (int i = 0; i < n; ++i) {
                points[i].y = -points[i].y;
            }
        }
        long double low = 0, high = INF;
        for (int i = 0; i < 100; ++i) {
            long double mid = (low + high) / 2.0;
            if (check(mid)) {
                high = mid;
            } else {
                low = mid;
            }
        }
        if (high >= INF - 1.0) {
            cout << -1 << endl;
        } else {
            cout << fixed << setprecision(10) << high << endl;
        }

        return 0;
    }

## ä»£ç æ€è·¯
- é¦–å…ˆè¿™é“é¢˜ç›®å¤§å®¶ç¬¬ä¸€çœ¼çœ‹çš„æ—¶å€™ï¼Œè‚¯å®šä¼šè§‰å¾—æ¯«æ— æ€è·¯ã€‚æˆ‘ä¸€å¼€å§‹çœ‹è¿™é“é¢˜ç›®çš„æ—¶å€™ï¼Œæƒ³åˆ°çš„åˆ†æ²»æ€è·¯æ˜¯æŠŠæ‰€æœ‰çš„ç‚¹æŒ‰ç…§xçš„å¤§å°æ’åˆ—ï¼Œç„¶åä¸€åŠä¸€åŠçš„åˆ†ï¼Œæœ€åä¸¤ä¸ªå¯ä»¥ç›´æ¥ç®—å‡ºåœ†çš„åŠå¾„å’Œåœ†å¿ƒï¼Œç„¶ååˆå¹¶çš„æ—¶å€™ï¼Œè®¡ç®—å‡ºæ–°çš„åœ†å¿ƒä»¥åŠåŠå¾„ï¼Œé¦–å…ˆè¿™æ ·çš„ç®—æ³•è‚¯å®šå¾ˆéš¾ç®—ï¼Œå†è€…å°±æ˜¯æœ€ååˆå¹¶å‡ºæ¥çš„åŠå¾„æ˜¯å¦å°±æ˜¯çœŸçš„å¯¹çš„ç­”æ¡ˆã€‚å¦‚æœè¿™ä¸ªåŠå¾„å·²ç»è¶…è¿‡äº†xè½´ï¼Œé‚£ä¹ˆåŠå¾„åº”è¯¥æ˜¯å¤šå°‘ï¼Œæ˜¯éšæ„çš„ä¸Šç§»å—ï¼Ÿè¿™æ˜¾ç„¶ä¸å¯¹
- äºæ˜¯æˆ‘ä»¬å°±æƒ³ç€å¯¹åŠå¾„è¿›è¡ŒäºŒåˆ†æ³•çš„å°è¯•ï¼Œè§„å®šä¸€ä¸ªæ€»çš„æ¬¡æ•°ï¼Œç„¶ååˆ©ç”¨ç›¸åº”çš„æ•°å­¦çŸ¥è¯†ï¼Œä¸€å…ƒäºŒæ¬¡ä¸ç­‰å¼çš„çŸ¥è¯†æ¥å®Œæˆè®¡ç®—ç»“æœï¼Œç„¶åæ£€éªŒæ˜¯å¦æˆç«‹ï¼Œä¸æ–­åœ°è¿›è¡ŒäºŒåˆ†æ³•å³å¯ã€‚
- å½“ç„¶ï¼Œè¿™é“é¢˜ç›®ï¼Œè®©æˆ‘ä»¬å‘ç°æˆ‘ä»¬éœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯ç²¾åº¦é—®é¢˜ï¼Œå½“é¢˜ç›®è¦æ±‚éœ€è¦å…­ä½ï¼Œä¸ƒä½çš„æ—¶å€™ï¼Œæœ€å¥½ç›´æ¥å†™åä½ï¼Œä¿è¯ç²¾åº¦çš„å­˜åœ¨ã€‚
---

![alt text](image.png)